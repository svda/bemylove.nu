<head>
  <title>bemylove.nu</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>

<body>
  {{> main}}
</body>

<template name="main">
	<div id="viewport">
		<section id="home">
			{{> home}}
		</section>
		<section id="rsvp">
			{{> rsvp}}
		</section>
		{{#if guest.reply.ceremonie}}
		<section id="ceremonie">
			<div class="container">
				<h1>Ceremonie</h1>
				<p>Leuk, je komt naar de ceremonie. Hier vind je de belangrijkste gegevens.</p>
				<p><strong>Opstappen op de aluminium steiger tegenover het Bimhuis</strong><br />
					Piet Heinkade 3<br />
					1019 BR Amsterdam
				</p>
				<div class="row">
					<div class="span12">
						<iframe frameborder="0" scrolling="no" marginheight="0" marginwidth="0" src="http://maps.google.nl/maps?f=q&amp;source=s_q&amp;hl=nl&amp;geocode=&amp;q=bimhuis+amsterdam&amp;aq=&amp;sll=52.358029,4.935286&amp;sspn=0.009999,0.018926&amp;gl=nl&amp;g=Paradijsplein,+Amsterdam&amp;ie=UTF8&amp;hq=bimhuis&amp;hnear=Amsterdam,+Noord-Holland&amp;ll=52.378224,4.913074&amp;spn=0.019989,0.037851&amp;t=m&amp;z=14&amp;iwloc=A&amp;cid=3783058251908802437&amp;output=embed"></iframe><br /><small><a href="http://maps.google.nl/maps?f=q&amp;source=embed&amp;hl=nl&amp;geocode=&amp;q=bimhuis+amsterdam&amp;aq=&amp;sll=52.358029,4.935286&amp;sspn=0.009999,0.018926&amp;gl=nl&amp;g=Paradijsplein,+Amsterdam&amp;ie=UTF8&amp;hq=bimhuis&amp;hnear=Amsterdam,+Noord-Holland&amp;ll=52.378224,4.913074&amp;spn=0.019989,0.037851&amp;t=m&amp;z=14&amp;iwloc=A&amp;cid=3783058251908802437" style="color:#0000FF;text-align:left">Grotere kaart weergeven</a></small>
					</div>
				</div>
			</div>
		</section>
		{{/if}}
		{{#if guest.reply.diner}}
		<section id="diner">
			<div class="container">
				<h1>Diner</h1>
				<p>Leuk, je komt naar het diner. Hier vind je de belangrijkste gegevens.</o>
				<p><strong>Bij Sander en Janneke thuis</strong><br />
					Eerste Oosterparkstraat 100, 1hg<br />
					1091 HE Amsterdam<br />
				</p>
				<p>Aanvang: 17:30</p>
			</div>
		</section>
		{{/if}}
		{{#if guest.reply.feest}}
		<section id="feest">
			<div class="container">
				<h1>Feest</h1>
				<p>Leuk, je komt naar het feest. Hier vind je de belangrijkste gegevens.</o>
				<p><strong>CMA Gebouw</strong><br />
					Paradijsplein 1<br />
					1093 NJ Amsterdam<br />
				</p>
				<p>Aanvang: 20:30</p>
				<p><strong>Dresscode</strong><br />
					Roaring twenties tot Swinging fourties.
				</p>
				<div class="row">
					<div class="span12">
						<iframe frameborder="0" scrolling="no" marginheight="0" marginwidth="0" src="http://maps.google.nl/maps?q=paradijsplein+1+amsterdam&amp;ie=UTF8&amp;hq=&amp;hnear=Paradijsplein,+Watergraafsmeer,+Amsterdam,+Noord-Holland&amp;gl=nl&amp;t=m&amp;z=14&amp;ll=52.357821,4.932604&amp;output=embed"></iframe><br /><small><a href="http://maps.google.nl/maps?q=paradijsplein+1+amsterdam&amp;ie=UTF8&amp;hq=&amp;hnear=Paradijsplein,+Watergraafsmeer,+Amsterdam,+Noord-Holland&amp;gl=nl&amp;t=m&amp;z=14&amp;ll=52.357821,4.932604&amp;source=embed">Grotere kaart weergeven</a></small>
					</div>
				</div>
			</div>
		</section>
		{{/if}}
		{{#if admin}}
		<section id="admin">
			{{> admin}}
		</section>
		{{/if}}
		<div id="continue">
			<center>
				<a href="#">Verder</a>
			</center>
		</div>
		<footer>
			{{!> logs_bootstrap}}
		</footer>
	</div>
</template>

<template name="home">
	<div class="container">
		<div id="masthead"></div>
	</div>
</template>

<template name="rsvp">
	<div class="container">
		<h1>RSVP</h1>
		{{#if saved}}
			<p>Super, bedankt voor het invullen en hopelijk tot de 19e {{guest.name}}!</p>
			<button id="edit-reply-btn" class="btn">Aanpassen</button>
		{{else}}
			{{#if replied}}
			<p>Hallo {{guest.name}},</p>
				<p>We hebben de RSVP al ontvangen, klik op Aanpassen om deze te veranderen.</p>
				<button id="edit-reply-btn" class="btn">Aanpassen</button>
			{{else}}
				{{#if guest}}
					<div id="reply-form">
						<p>Hallo {{guest.name}}!</p>
						<div class="control-group">
							<label  class="control-label">Wil je aangeven of je komt?</label>
							<div class="controls">
								{{#if guest.invite.ceremonie}}
									<label class="checkbox">
										<input type="checkbox" name="reply_ceremonie" value="true"{{#if guest.reply.ceremonie}} checked="checked"{{/if}} /> Ja, ik kom naar de ceremonie
									</label>
								{{/if}}
								{{#if guest.invite.diner}}
									<label class="checkbox">
										<input type="checkbox" name="reply_diner" value="true"{{#if guest.reply.diner}} checked="checked"{{/if}} /> Ja, ik kom naar het diner
									</label>
								{{/if}}
								{{#if guest.invite.feest}}
									<label class="checkbox">
										<input type="checkbox" name="reply_feest" value="true"{{#if guest.reply.feest}} checked="checked"{{/if}} /> Ja, ik kom naar het feest
									</label>
								{{/if}}
							</div>
						</div>
						<div class="control-group">
							<label  class="control-label">Met hoeveel personen?</label>
							<div class="controls">
								<label>
									<select name="ceremonie" class="span1">
										{{# each aantal}}
										<option value="{{aantal}}" selected="selected">{{this}}</option>
										{{/each}}
									</select>
								</label>
							</div>
						</div>
						<div class="control-group">
								<button id="reply-btn" class="btn btn-primary">Versturen</button>
							</div>
						</div>
					</div>
				{{else}}
					<div id="identify-form">
						<div id="zipcode-control" class="control-group{{#if identify_error}} error{{/if}}">
							<label for="" class="control-label">Vul je postcode en huisnummer in om te beginnen</label>
							<div class="controls">
								<input type="text" id="zipcode-input" class="span2" placeholder="Postcode" />
								<input type="text" id="number-input" class="span1" placeholder="Nr." />
								{{#if identify_error}}
									<span class="help-inline">{{identify_error}}</span>
								{{/if}}
							</div>
						</div>
							<button id="identify-btn" class="btn btn-primary">Versturen</button>
					</div>
				{{/if}}
			{{/if}}
		{{/if}}

	</div>
</template>

<template name="admin">
	<div class="container">
		<h1>Beheer</h1>
		<div id="add-form">
			<input type="text" name="name" placeholder="Naam" />
			<input type="text" name="zipcode" placeholder="Postcode zonder spaties" />
			<input type="text" name="number" placeholder="Huisnummer zonder toevoegingen" />
			<input type="text" name="n" placeholder="Aantal personen" />
			<button id="add-btn">Toevoegen</button>
		</div>
		<div id="guestlist">
			<h2>Gastenlijst</h2>
			<table>
				<tr>
					<th>Gast</th>
					<th>Postcode</th>
					<th>Huisnummer</th>
					<th>Aantal</th>
					<th>Uitgenodigd voor</th>
					<th>bevestigd voor</th>
				</tr>
			{{#each guests}}
				<tr data-id="{{_id}}">
					<td>{{name}}</td>
					<td>{{zipcode}}</td>
					<td>{{number}}</td>
					<td>{{n}}</td>
					<td>
						{{#with invite}}
							<label class="checkbox"><input type="checkbox" name="invite_ceremonie" value="true"{{#if ceremonie}} checked="checked"{{/if}} /> Ceremonie</label>
							<label class="checkbox"><input type="checkbox" name="invite_diner" value="true"{{#if diner}} checked="checked"{{/if}} /> Diner</label>
							<label class="checkbox"><input type="checkbox" name="invite_feest" value="true"{{#if feest}} checked="checked"{{/if}} /> Feest</label>
						{{/with}}
					<td>
						{{#with reply}}
							{{#if ceremonie}}Ceremonie<br />{{/if}}
							{{#if diner}}Diner<br />{{/if}}
							{{#if feest}}Feest{{/if}}
						{{/with}}
					</td>
				</tr>
			{{/each}}
			</table>
		</div>
	</div>
</template>

